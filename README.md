# バスラー(Busller)
愛知工科大学の非公式スクールバスアプリ。非公式と思わせないほどのシンプルなデザインを売りにしています。

## このアプリケーションについて
- このアプリケーションは、愛知工科大学および愛知工科大学自動車短期大学 __非公式__ です。
- このアプリケーションを利用したことで発生するいかなる損失について、開発者は責任を負いかねます。
- Android 8.0以上の環境でお使いください。
- 開発言語は Kotlin です。

## バージョン履歴
- 0.1 (初版)
- 0.2
	- 時刻表一覧を表示できるように。
- 0.3
	- アプリケーションの内部構造を大幅変更、ViewModelを限定的に導入。
- 0.4
	- 起動時にFragmentが正しく表示されない事象を改善
	- App Shortcutsに対応 (大学/駅行きを直接選択できる)
- 0.5
	- リスト項目を選択すると、ダイアログを表示するように
	(通知機能を実装するための準備も同時に行っています)
	- (ベータ)ジョルダン乗換案内へのリンクを用いる形で、バスと接続する電車の検索機能を実装
## アプリケーション仕様
### 時刻表について
このアプリケーションは、Version 0.5時点ではローカルに格納した時刻表を参照しています。<br/>
時刻表を更新する際は、以下の手順に従ってアプリケーション内に組み込みを行ってください。
1. 時刻表の更新
	1. assetsフォルダー内の最新の時刻表ファイルをコピー、デスクトップなど適当な箇所へ貼り付け
	1. Microsoft ExcelなどでCSVファイルを開き、ファイルの書式に従って内容を書き換え<br/>
		なお書式は、パターンファイル/時刻表ファイルでそれぞれ定義されています。
		- パターンファイル (例:202112v1pat.csv)
		左から
			- 日付 (ハイフン区切り)
			- パターン識別子 (最大3文字、バスがない日は'0'を記入)
			- オプション (三ヶ根便運休などを判別する際に使用、要ソース書き換え)
		- 時刻表ファイル (例:202112v1nor.csv)
		左から
			- 時
			- 分
			- 大学行きである (TRUE / FALSE)
			- 三ヶ根駅から発車する (TRUE / FALSE)
			- オプション (パターンファイルで使用したものと同一の識別子を記入、要ソース書き換え)

		書き換えしたのちに、CSVファイルでコンマ区切り、UTF-8で保存します。
	1. フォルダー、ファイルの名前を整える<br/>
		名前は、時刻表を作成した西暦年、月、同一の月で何番目のバージョンか、(ファイルの場合、最後に識別子)で構成されます。
			- 例: 2022年1月に作業したが、既にその月は1回時刻表更新を行っている。-> 202201v2(識別子).csv
1. 時刻表の組み込み
	assetsフォルダー内に、更新作業を済ませたフォルダーごとコピーを行います。
1. 時刻表の適用
	1. appフォルダー内のbuild.gradleファイルを開く<br/>
		(Busllerフォルダー内にもbuild.gradleファイルが存在しますが、そちらには時刻表バージョンは格納されていません)
	1. 時刻表バージョンを書き換える<br/>
		androidブロック -> defaultConfigブロック -> buildConfigField "String", "DIA_VERSION", "\"(バージョン)\""　の(バージョン)箇所を書き換えます。

以上で、時刻表の更新が完了します。
